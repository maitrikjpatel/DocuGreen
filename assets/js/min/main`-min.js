jQuery(document).ready(function($){function e(e){var i=e.parents(".cd-slider-wrapper").find(".cd-slider"),t=i.children(".selected").removeClass("selected");e.hasClass("cd-next")?t.is(":last-child")?i.children("li").eq(0).addClass("selected"):t.next().addClass("selected"):t.is(":first-child")?i.children("li").last().addClass("selected"):t.prev().addClass("selected")}function i(e){$(".cd-quick-view .cd-slider li").removeClass("selected").find('img[src="'+e+'"]').parent("li").addClass("selected")}function t(){var e=($(window).width()-$(".cd-quick-view").width())/2,i=($(window).height()-$(".cd-quick-view").height())/2;$(".cd-quick-view").css({top:i,left:e})}function s(e,i){var t=$(".cd-close"),s=t.siblings(".cd-slider-wrapper").find(".selected img").attr("src"),a=$(".empty-box").find("img");!$(".cd-quick-view").hasClass("velocity-animating")&&$(".cd-quick-view").hasClass("add-content")?(a.attr("src",s),d(a,e,i,"close")):c(a,e,i)}function d(e,i,t,s){var d=e.parent(".cd-item"),c=e.offset().top-$(window).scrollTop(),a=e.offset().left,l=e.width(),o=e.height(),n=$(window).width(),r=$(window).height(),v=(n-i)/2,w=i*o/l,f=(r-w)/2,h=.8*n<t?.8*n:t,p=(n-h)/2;"open"==s?(d.addClass("empty-box"),$(".cd-quick-view").css({top:c,left:a,width:l}).velocity({top:f+"px",left:v+"px",width:i+"px"},1e3,[400,20],function(){$(".cd-quick-view").addClass("animate-width").velocity({left:p+"px",width:h+"px"},300,"ease",function(){$(".cd-quick-view").addClass("add-content")})}).addClass("is-visible")):$(".cd-quick-view").removeClass("add-content").velocity({top:f+"px",left:v+"px",width:i+"px"},300,"ease",function(){$("body").removeClass("overlay-layer"),$(".cd-quick-view").removeClass("animate-width").velocity({top:c,left:a,width:l},500,"ease",function(){$(".cd-quick-view").removeClass("is-visible"),d.removeClass("empty-box")})})}function c(e,i,t){var s=e.parent(".cd-item"),d=e.offset().top-$(window).scrollTop(),c=e.offset().left,a=e.width();$("body").removeClass("overlay-layer"),s.removeClass("empty-box"),$(".cd-quick-view").velocity("stop").removeClass("add-content animate-width is-visible").css({top:d,left:c,width:a})}var a=400,l=900;$(".cd-trigger").on("click",function(e){var t=$(this).parent(".cd-item").children("img"),s=t.attr("src");$("body").addClass("overlay-layer"),d(t,a,l,"open"),i(s)}),$("body").on("click",function(e){($(e.target).is(".cd-close")||$(e.target).is("body.overlay-layer"))&&s(a,l)}),$(document).keyup(function(e){"27"==e.which&&s(a,l)}),$(".cd-quick-view").on("click",".cd-slider-navigation a",function(){e($(this))}),$(window).on("resize",function(){$(".cd-quick-view").hasClass("is-visible")&&window.requestAnimationFrame(t)})});